<section  xmlns:th="http://www.thymeleaf.org" th:fragment="appointments">

    <div>

        <table class="Table" >
            <thead>
            <tr>
                <td>Patient</td>
                <td>Doctor</td>
                <td>Date</td>
                <td>Time</td>
                <td>Status</td>
                <td>Actions</td>
            </tr>
            </thead>
            <tbody id="appointmentTableBody">


            </tbody>
        </table>
    </div>
    <div id="editModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div> <!-- Blur background -->
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h3>Edit Appointment</h3>
            <form id="editAppointmentForm" action="appointment/edit" method="post">
                <label for="editAppDate">Appointment Date:</label>
                <input type="date" id="editAppDate" name="appDate">

                <label for="editAppTime">Appointment Time:</label>
                <input type="time" id="editAppTime" name="appTime">

                <label for="editStatus">Status:</label>
                <select id="editStatus" name="status">
                    <option value="Pending">Pending</option>
                    <option value="Completed">Completed</option>
                    <option value="Cancelled">Cancelled</option>
                </select>

                <input type="hidden" id="editAppointmentID" name="appointmentID">
                <button type="button" class="primary " onclick="saveAppointmentChanges()">Save Changes</button>
            </form>
        </div>
    </div>
    <div id="messageBox" style="display: none; padding: 10px; text-align: center; font-weight: bold;"></div>
    <div class=" main " th:include="diagnose::diagnosisModal"></div>



</section>


<script>


    function editAppointment(id) {
        console.log(`Editing appointment ${id}`);
    }

    function deleteAppointment(id) {
        console.log(`Deleting appointment ${id}`);
        document.querySelector(`tr[data-id='${id}']`).remove();
    }

    function startAppointment(row) {
        console.log(`Starting appointment for row:`, row);
        // Logic to start the appointment
    }


</script>
